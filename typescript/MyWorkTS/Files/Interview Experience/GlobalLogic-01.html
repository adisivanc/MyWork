<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .form-control.error {
            box-shadow:0 0 5px #cc0000;
        }
    </style>
    <link rel="stylesheet" href="./../../../../../support/css/bootstrap.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <link rel="shortcut icon" href="https://static-assets-web.flixcart.com/www/promos/new/20150528-140547-favicon-retina.ico">
    <link rel="icon" type="image/x-icon" href="./../support/img/mywork.ico">
</head>
<body>
    
    <form id="myForm">
        <h3>Registration Form</h3>

        <label for="username" class="form-label">Username</label>
        <input type="text" id="username" class="form-control" value=""/>
        <br/>
        <label for="password" class="form-label">Password</label>
        <input type="password" id="password" class="form-control" value=""/>
        <br/>
        <label for="cpassword" class="form-label">Confirm Password</label>
        <input type="password" id="cpassword" class="form-control" value=""/>
        <br/>
        <label for="gender" class="form-label">Gender</label>
        <select id="gender" class="form-select">
            <option value="male" selected>Male</option>
            <option value="female">Female</option>
        </select>
        <br/>
        <div class="form-check">
            <input type="checkbox" id="remember" class="form-check-input" value="" checked/>
            <label for="remember" class="form-check-label">Remember me</label>
        </div>
        
        <br/>
        <input type="submit" value="Submit" id="submit" class="btn btn-primary"/>
        <input type="reset" value="Reset" id="reset" class="btn btn-danger"/>
    </form>

<!-- ... Your existing HTML code ... -->

<script type="text/javascript">
    let submitForm = document.querySelector("#submit");
    let registerForm = document.querySelector("#myForm");
    let userDetails = [];

    let validationLogin = () => {
        // Reset userDetails array for each submission
        userDetails = [];

        // Iterate through form elements
        Array.from(registerForm.elements).forEach(element => {
            switch (element.id) {
                case "username":
                    if (element.value === "") {
                        console.log("Username is required");
                        element.classList.add("error")
                        return false;
                    } else {
                        userDetails.push({ username: element.value });
                        console.log("Username: " + element.value);
                    }
                    break;

                case "password":
                    if (element.value === "") {
                        console.log("Password is required");
                        return false;
                    } else {
                        userDetails.push({ password: element.value });
                        console.log("Password: " + element.value);
                    }
                    break;

                case "cpassword":
                    if (element.value === "") {
                        console.log("Confirm Password is required");
                        return false;
                    } else if (element.value !== document.getElementById("password").value) {
                        console.log("Passwords do not match");
                        return false;
                    } else {
                        userDetails.push({ confirmPassword: element.value });
                        console.log("Confirm Password: " + element.value);
                    }
                    break;

                case "gender":
                    if (element.value === "") {
                        console.log("Gender is required");
                        return false;
                    } else {
                        userDetails.push({ gender: element.value });
                        console.log("Gender: " + element.value);
                    }
                    break;

                case "remember":
                    // Check if the checkbox is checked
                    if (element.checked) {
                        userDetails.push({ remember: true });
                        console.log("Remember me checked");
                        return true;
                    } else {
                        userDetails.push({ remember: false });
                        console.log("Remember me not checked");
                        return false;
                    }
                    break;
            }
        });

        console.log(userDetails);
        
    }

    submitForm.addEventListener('click', async (e) => {
        e.preventDefault(); // prevent form submission

        let validate = await validationLogin();

        if (validate) {
            console.log("Validation successful");
            // Perform any additional actions here before redirection

            // Redirect to the dashboard.html page
            window.location.href = "/dashboard.html";
        } else {
            console.log("Please enter the missing details...");
        }
    });
</script>
</body>
</html>

