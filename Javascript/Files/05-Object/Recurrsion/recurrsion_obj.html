<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Object-Recurrsion</title>
    <link rel="stylesheet" href="./../../../../support/css/bootstrap.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="shortcut icon" href="https://static-assets-web.flixcart.com/www/promos/new/20150528-140547-favicon-retina.ico">
    <link rel="icon" type="image/x-icon" href="./../support/img/mywork.ico">
</head>
<body>
    <script type="text/javascript">
        let user = {
            firstName:"Adisivan",
            lastName:"Chinnasamy",
            dob:"25/10/1990",
            address:{
                personal:{
                    street:"Ngamanaickenpatti",
                    town:"Vellakovil",
                    city:"Tiruppur"
                },
                office:{
                    street:"5th Block",
                    town:"Kormangala",
                    city:"Bangalore"
                }
            },
            contact:{
                personal:{
                    mobile01:"+91 999 999 9999",
                    mobile02:"+91 888 888 8888"
                },
                office:{
                    landline:"+91 987 655 2552"
                }
            }
        }

        let newObj ={};

        let magicFunc = (userPara,parent) => {
            for(x in userPara){
                //console.log(typeof userPara[x]);
                if(typeof userPara[x] !== "object"){
                    newObj[parent+"_"+x] = userPara[x];
                }else{
                    //console.log(x);
                    magicFunc(userPara[x],parent+"_"+x);
                }
            }
            return newObj;
        }

        let xyz = magicFunc(user,"user");
        console.log(xyz);
    </script>
</body>
</html>