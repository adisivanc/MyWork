<!DOCTYPE html>
<html>
    <head>
        <title>
            ADISIVAN JS 
        </title>
        <link href="../../../../Style/style.css" type="text/css" rel="stylesheet" />
        <style>
            
        </style>
    <link rel="shortcut icon" href="https://static-assets-web.flixcart.com/www/promos/new/20150528-140547-favicon-retina.ico">
    <link rel="icon" type="image/x-icon" href="./../support/img/mywork.ico">
</head>
    <body>
        <div id="container">
            <h4>Check Console Log</h4>
            <input type="button" value="Get Data" onclick="getFetchData()" />
            <input type="button" value="Post Data" onclick="postDummyData()" />
            <table class="table tableTodo" cellpadding="0" cellspacing="0">
                <thead>
                    <tr>
                        <th>S.No</th>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Username</th>
                        <th>Email</th>
                        <th>Address</th>
                        <th>Phone</th>
                        <th>Company</th>
                        <th>Website</th>
                        <th>Geolocation</th>
                    </tr>
                </thead>
                <tbody id="loadData">

                </tbody>
            </table>
        </div>
        <script type="text/javascript">
            const apiURL = "https://jsonplaceholder.typicode.com/users";
            const loadData = document.getElementById("loadData");
            let sno = 1;

            function getFetchData(){
                let xhr = new XMLHttpRequest();
                xhr.open("GET",apiURL);
                xhr.send();

                xhr.onload = function() {
                    if(xhr.status == 200){
                        dummyData = JSON.parse(xhr.response);
                        for(data of dummyData){
                            let dataGEO = data.address.geo.lat+"\n"+data.address.geo.lng;
                            let dataAddr = data.address.street+"\n"+data.address.suite+"\n"+data.address.city+"\n"+"Zip Code =>"+data.address.zipcode;
                            let dataCMPY = data.company.name+"\n"+data.company.catchPhrase+"\n"+data.company.bs;
                            createElem(data.id,data.name,dataAddr,data.username,data.phone,data.email,dataCMPY,dataGEO,data.website);
                        }
                    }else{
                        console.log("Error")
                    }
                }

                function createElem(id,name,address,username,phone,email,cmpy,geol,webs){
                    //console.log(id,name,address,username,phone,email,cmpy,geo,webs);
                    let tableRow = document.createElement("tr");
                    let tableSno = document.createElement("td");
                    tableSno.textContent = sno;
                    let tableData01 = document.createElement("td");
                    tableData01.textContent = id;
                    let tableData02 = document.createElement("td");
                    tableData02.innerText = name;
                    let tableData03 = document.createElement("td");
                    tableData03.innerText = username;
                    let tableData04 = document.createElement("td");
                    tableData04.innerText = email;
                    let tableData05 = document.createElement("td");
                    tableData05.innerText = address;
                    let tableData06 = document.createElement("td");
                    tableData06.innerText = phone;
                    let tableData07 = document.createElement("td");
                    tableData07.innerText = cmpy;
                    let tableData08 = document.createElement("td");
                    tableData08.innerText = webs;
                    let tableData09 = document.createElement("td");
                    tableData09.innerText = geol;
                    tableRow.append(tableSno,tableData01,tableData02,tableData03,tableData04,tableData05,tableData06,tableData07,tableData08,tableData09);
                    loadData.append(tableRow)
                    sno++;
                }
            }

            /*
            const dummyData = [{"id":1,"name":"Leanne Graham","username":"Bret","email":"Sincere@april.biz","address":{"street":"Kulas Light","suite":"Apt. 556","city":"Gwenborough","zipcode":"92998-3874","geo":{"lat":"-37.3159","lng":"81.1496"}},"phone":"1-770-736-8031 x56442","website":"hildegard.org","company":{"name":"Romaguera-Crona","catchPhrase":"Multi-layered client-server neural-net","bs":"harness real-time e-markets"}},{"id":2,"name":"Ervin Howell","username":"Antonette","email":"Shanna@melissa.tv","address":{"street":"Victor Plains","suite":"Suite 879","city":"Wisokyburgh","zipcode":"90566-7771","geo":{"lat":"-43.9509","lng":"-34.4618"}},"phone":"010-692-6593 x09125","website":"anastasia.net","company":{"name":"Deckow-Crist","catchPhrase":"Proactive didactic contingency","bs":"synergize scalable supply-chains"}},{"id":3,"name":"Clementine Bauch","username":"Samantha","email":"Nathan@yesenia.net","address":{"street":"Douglas Extension","suite":"Suite 847","city":"McKenziehaven","zipcode":"59590-4157","geo":{"lat":"-68.6102","lng":"-47.0653"}},"phone":"1-463-123-4447","website":"ramiro.info","company":{"name":"Romaguera-Jacobson","catchPhrase":"Face to face bifurcated interface","bs":"e-enable strategic applications"}},{"id":4,"name":"Patricia Lebsack","username":"Karianne","email":"Julianne.OConner@kory.org","address":{"street":"Hoeger Mall","suite":"Apt. 692","city":"South Elvis","zipcode":"53919-4257","geo":{"lat":"29.4572","lng":"-164.2990"}},"phone":"493-170-9623 x156","website":"kale.biz","company":{"name":"Robel-Corkery","catchPhrase":"Multi-tiered zero tolerance productivity","bs":"transition cutting-edge web services"}},{"id":5,"name":"Chelsey Dietrich","username":"Kamren","email":"Lucio_Hettinger@annie.ca","address":{"street":"Skiles Walks","suite":"Suite 351","city":"Roscoeview","zipcode":"33263","geo":{"lat":"-31.8129","lng":"62.5342"}},"phone":"(254)954-1289","website":"demarco.info","company":{"name":"Keebler LLC","catchPhrase":"User-centric fault-tolerant solution","bs":"revolutionize end-to-end systems"}},{"id":6,"name":"Mrs. Dennis Schulist","username":"Leopoldo_Corkery","email":"Karley_Dach@jasper.info","address":{"street":"Norberto Crossing","suite":"Apt. 950","city":"South Christy","zipcode":"23505-1337","geo":{"lat":"-71.4197","lng":"71.7478"}},"phone":"1-477-935-8478 x6430","website":"ola.org","company":{"name":"Considine-Lockman","catchPhrase":"Synchronised bottom-line interface","bs":"e-enable innovative applications"}},{"id":7,"name":"Kurtis Weissnat","username":"Elwyn.Skiles","email":"Telly.Hoeger@billy.biz","address":{"street":"Rex Trail","suite":"Suite 280","city":"Howemouth","zipcode":"58804-1099","geo":{"lat":"24.8918","lng":"21.8984"}},"phone":"210.067.6132","website":"elvis.io","company":{"name":"Johns Group","catchPhrase":"Configurable multimedia task-force","bs":"generate enterprise e-tailers"}},{"id":8,"name":"Nicholas Runolfsdottir V","username":"Maxime_Nienow","email":"Sherwood@rosamond.me","address":{"street":"Ellsworth Summit","suite":"Suite 729","city":"Aliyaview","zipcode":"45169","geo":{"lat":"-14.3990","lng":"-120.7677"}},"phone":"586.493.6943 x140","website":"jacynthe.com","company":{"name":"Abernathy Group","catchPhrase":"Implemented secondary concept","bs":"e-enable extensible e-tailers"}},{"id":9,"name":"Glenna Reichert","username":"Delphine","email":"Chaim_McDermott@dana.io","address":{"street":"Dayna Park","suite":"Suite 449","city":"Bartholomebury","zipcode":"76495-3109","geo":{"lat":"24.6463","lng":"-168.8889"}},"phone":"(775)976-6794 x41206","website":"conrad.com","company":{"name":"Yost and Sons","catchPhrase":"Switchable contextually-based project","bs":"aggregate real-time technologies"}},{"id":10,"name":"Clementina DuBuque","username":"Moriah.Stanton","email":"Rey.Padberg@karina.biz","address":{"street":"Kattie Turnpike","suite":"Suite 198","city":"Lebsackbury","zipcode":"31428-2261","geo":{"lat":"-38.2386","lng":"57.2232"}},"phone":"024-648-3804","website":"ambrose.net","company":{"name":"Hoeger LLC","catchPhrase":"Centralized empowering task-force","bs":"target end-to-end models"}}]
            */
            //Extract only one Data for Post test purpose

            function postDummyData(){
                const postDummyData = [{"id":198,"name":"Leanne Graham","username":"Bret","email":"Sincere@april.biz","address":{"street":"Kulas Light","suite":"Apt. 556","city":"Gwenborough","zipcode":"92998-3874","geo":{"lat":"-37.3159","lng":"81.1496"}},"phone":"1-770-736-8031 x56442","website":"hildegard.org","company":{"name":"Romaguera-Crona","catchPhrase":"Multi-layered client-server neural-net","bs":"harness real-time e-markets"}}]
                const postDummyData01 = JSON.stringify(postDummyData);
                console.log(postDummyData);

                let xhrp = new XMLHttpRequest();
                xhrp.open("POST",apiURL);
                xhrp.send(postDummyData);
            }
                       

            
        </script>
    </body>
</html>